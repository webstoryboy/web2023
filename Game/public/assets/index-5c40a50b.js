(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const e of r)if(e.type==="childList")for(const l of e.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function c(r){const e={};return r.integrity&&(e.integrity=r.integrity),r.referrerPolicy&&(e.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?e.credentials="include":r.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(r){if(r.ep)return;r.ep=!0;const e=c(r);fetch(r.href,e)}})();function I(){$(".icon1").draggable({containment:".icon__box",scroll:!1,start:function(){$(".cursor img").attr("src","images/game_mouse01.png")}}),$(".icon2").draggable({containment:".icon__box",scroll:!1,start:function(){$(".cursor img").attr("src","images/game_mouse02.png")}}),$(".icon3").draggable({containment:".icon__box",scroll:!1,start:function(){$(".cursor img").attr("src","images/game_mouse03.png")}}),$(".icon4").draggable({containment:".icon__box",scroll:!1,start:function(){$(".cursor img").attr("src","images/game_mouse04.png")}}),$(".music__wrap").draggable({scroll:!1}),window.onload=function(){window.addEventListener("mousemove",c=>{gsap.to(".cursor",{duration:0,left:c.pageX-5,top:c.pageY-10})}),s(),i()};function s(){const c=document.querySelector(".time");let a=new Date;c.innerHTML=a.getFullYear()+"년 "+(a.getMonth()+1)+"월 "+a.getDate()+"일 "+a.getHours()+"시 "+a.getMinutes()+"분 ",setTimeout(s,1e3)}function i(){let c=navigator.userAgent.toLowerCase(),a=screen.width,r=screen.height,e=document.querySelector(".info");c.indexOf("windows")>=0?e.innerHTML="현재 윈도우를 사용하고 있으며, 화면 크기는 "+a+"x"+r+" 입니다.":c.indexOf("macintosh")>=0?e.innerHTML="현재 맥을 사용하고 있으며, 화면 크기는 "+a+"x"+r+" 입니다.":c.indexOf("iphone")>=0?e.innerHTML="현재 아이폰을 사용하고 있으며, 화면 크기는 "+a+"x"+r+" 입니다.":c.indexOf("android")>=0&&(e.innerHTML="현재 안드로이드 폰을 사용하고 있으며, 화면 크기는 "+a+"x"+r+" 입니다.")}}function N(){const s=[{name:"1. 저리가라",artist:"Patrick Patrikios",img:"music_view01",audio:"music_audio01"},{name:"2. 저리가라",artist:"Patrick Patrikios",img:"music_view02",audio:"music_audio02"},{name:"3. 저리가라",artist:"Patrick Patrikios",img:"music_view03",audio:"music_audio03"},{name:"4. 저리가라",artist:"Patrick Patrikios",img:"music_view04",audio:"music_audio04"},{name:"5. 저리가라",artist:"Patrick Patrikios",img:"music_view05",audio:"music_audio05"},{name:"6. 저리가라",artist:"Patrick Patrikios",img:"music_view06",audio:"music_audio06"},{name:"7. 저리가라",artist:"Patrick Patrikios",img:"music_view07",audio:"music_audio07"},{name:"8. 저리가라",artist:"Patrick Patrikios",img:"music_view08",audio:"music_audio08"},{name:"9. 저리가라",artist:"Patrick Patrikios",img:"music_view09",audio:"music_audio09"}],i=document.querySelector(".music__wrap"),c=i.querySelector(".music__control .title h3"),a=i.querySelector(".music__control .title p"),r=i.querySelector(".music__view .image img"),e=i.querySelector("#main-audio"),l=i.querySelector("#control-play"),M=i.querySelector("#control-prev"),P=i.querySelector("#control-next"),v=i.querySelector(".progress"),k=i.querySelector(".progress .bar"),x=i.querySelector(".progress .timer .current"),S=i.querySelector(".progress .timer .duration"),d=i.querySelector("#control-repeat"),q=i.querySelector("#control-list"),w=i.querySelector(".music__list"),y=i.querySelector(".music__list ul"),T=i.querySelector(".music__list h3 .close");let n=1;const _=t=>{c.innerText=s[t-1].name,a.innerText=s[t-1].artist,r.src=`images/${s[t-1].img}.png`,r.alt=s[t-1].name,e.src=`audio/${s[t-1].audio}.mp3`},p=()=>{i.classList.add("paused"),l.setAttribute("title","정지"),l.setAttribute("class","stop"),e.play()},E=()=>{i.classList.remove("paused"),l.setAttribute("title","재생"),l.setAttribute("class","play"),e.pause()},O=()=>{n==1?n=s.length:n--,_(n),p(),h()},A=()=>{n==s.length?n=1:n++,_(n),p(),h()};e.addEventListener("timeupdate",t=>{console.log(t);const o=t.target.currentTime,u=t.target.duration;let m=o/u*100;k.style.width=`${m}%`,e.addEventListener("loadeddata",()=>{let g=e.duration,H=Math.floor(g/60),b=Math.floor(g%60);b<10&&(b=`0${b}`),S.innerText=`${H}:${b}`});let L=Math.floor(o/60),f=Math.floor(o%60);f<10&&(f=`0${f}`),x.innerText=`${L}:${f}`}),v.addEventListener("click",t=>{let o=v.clientWidth,u=t.offsetX,m=e.duration;e.currentTime=u/o*m}),d.addEventListener("click",()=>{switch(d.getAttribute("class")){case"repeat":d.setAttribute("class","repeat_one"),d.setAttribute("title","한곡 반복");break;case"repeat_one":d.setAttribute("class","shuffle"),d.setAttribute("title","랜덤 반복");break;case"shuffle":d.setAttribute("class","repeat"),d.setAttribute("title","전체 반복");break}}),e.addEventListener("ended",()=>{switch(d.getAttribute("class")){case"repeat":A();break;case"repeat_one":p();break;case"shuffle":let o=Math.floor(Math.random()*s.length+1);do o=Math.floor(Math.random()*s.length+1);while(n==o);n=o,_(n),p();break}h()}),l.addEventListener("click",()=>{i.classList.contains("paused")?E():p()}),M.addEventListener("click",()=>{O()}),P.addEventListener("click",()=>{A()}),q.addEventListener("click",()=>{w.classList.add("show")}),T.addEventListener("click",()=>{w.classList.remove("show")});for(let t=0;t<s.length;t++){let o=`
            <li data-index="${t+1}">
                <span class="img">
                    <img class="img" src="images/${s[t].img}.png" alt=${s[t].name}>
                </span>
                <span class="title">
                    <strong>${s[t].name}</strong>
                    <em>${s[t].artist}</em>
                    <audio class="${s[t].audio}" src="audio/${s[t].audio}.mp3"></audio>
                </span>
                <span class="audio-duration" id="${s[t].audio}">3:04</span>
            </li>
        `;y.insertAdjacentHTML("beforeend",o);let u=y.querySelector(`#${s[t].audio}`),m=y.querySelector(`.${s[t].audio}`);m.addEventListener("loadeddata",()=>{let L=m.duration,f=Math.floor(L/60),g=Math.floor(L%60);g<10&&(g=`0${g}`),u.innerText=`${f}:${g}`,u.setAttribute("data-duration",`${f}:${g}`)})}function h(){const t=y.querySelectorAll("li");for(let o=0;o<t.length;o++){let u=t[o].querySelector(".audio-duration");if(t[o].addEventListener("click",function(){D(this)}),t[o].classList.contains("playing")){t[o].classList.remove("playing");let m=u.getAttribute("data-duration");u.innerText=m}t[o].getAttribute("data-index")==n&&(t[o].classList.add("playing"),u.innerText="재생중")}}function D(t){n=t.getAttribute("data-index"),_(n),p(),h()}window.addEventListener("load",()=>{_(n),h()})}I();N();
